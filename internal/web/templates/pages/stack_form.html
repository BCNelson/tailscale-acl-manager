{{define "content"}}
{{- $data := .Content -}}
<form
  {{if $data.IsEdit}}
  hx-put="/stacks/{{$data.Stack.ID}}"
  {{else}}
  hx-post="/stacks"
  {{end}}
  hx-swap="none"
>
  <div class="form-group">
    <label for="name">Name *</label>
    <input type="text" id="name" name="name" value="{{$data.Stack.Name}}" required placeholder="e.g., production, staging">
    <div class="help-text">A unique identifier for this stack</div>
  </div>

  <div class="form-group">
    <label for="description">Description</label>
    <input type="text" id="description" name="description" value="{{$data.Stack.Description}}" placeholder="Optional description">
  </div>

  <div class="form-group">
    <label for="priority">Priority</label>
    <input type="number" id="priority" name="priority" value="{{$data.Stack.Priority}}" min="0">
    <div class="help-text">Lower numbers = higher priority when merging. Default is 100.</div>
  </div>

  <div class="modal-footer" style="margin: 1rem -1.25rem -1.25rem; padding: 1rem 1.25rem; border-top: 1px solid var(--color-border);">
    <button type="button" class="btn btn-secondary" onclick="closeModal('modal')">Cancel</button>
    <button type="submit" class="btn btn-primary">
      <span class="htmx-indicator spinner"></span>
      {{if $data.IsEdit}}Update Stack{{else}}Create Stack{{end}}
    </button>
  </div>
</form>
{{end}}
